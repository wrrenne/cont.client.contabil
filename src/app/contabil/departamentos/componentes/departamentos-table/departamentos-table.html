<div infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="onScrollDown()">
    <table class="tabela">
        <thead>
            <tr>
                <td>Departamento</td>
                <td class="hidden text-center md:table-cell">Clientes</td>
                <td class="hidden text-center md:table-cell">Obrigações</td>
            </tr>
        </thead>
        <tbody>
            @for (item of datas; track item; let i = $index) {
            <tr>
                <td>
                    <avatar-title
                        class="cursor-pointer"
                        [title]="item.nome"
                        subTitle="{{item.users.length | singularPlural : '1 usuário' : 'usuários': 'Nenhuma obrigação'}}"
                        [routerLink]="['/sistema/departamentos/departamento', encryptionService.encrypt(item.id)]"
                    >
                    </avatar-title>
                </td>
                <td class="hidden text-center md:table-cell">
                    <span>{{item.obrigacoesStat?.clientesCount}}</span>
                </td>
                <td class="hidden text-center md:table-cell">
                    <span>{{item.obrigacoesStat?.total}}</span>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>
