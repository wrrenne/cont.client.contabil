<!-- <text-separator [text]="getMonthName()" [colorClass]="'text-gray-800 dark:text-gray-200'" [center]="false"></text-separator> -->

<div class="mb-3 text-center font-semibold text-black dark:text-white bg-zinc-200/70 dark:bg-zinc-800/70 py-3 rounded-lg">{{getMonthName()}}</div>
<!-- Weekday names -->
<div class="grid-cols-7 mb-2.5 grid gap-1 text-center text-sm font-medium text-gray-600 dark:text-zinc-300 border-b border-color pb-3">
    @for (dayName of weekdayNames; track dayName; let i = $index) {
    <span class="p-1" [ngClass]="{'text-red-500': i == 0}">{{ dayName }}</span>
    }
</div>
<!-- Calendar days -->

<div class="grid-cols-7 grid gap-1 text-center">
    @for (dayObj of daysArray; track dayObj) {
    <div class="px-2.5 py-1 text-sm flex justify-center">
        <div [class]="dayObj.cor != undefined ? dayObj.cor : 'text-gray-700 dark:text-gray-400'">
            @if (dayObj.date.getMonth() + 1 == month) {
            <div class="font-semibold">{{ dayObj.day }}</div>
            } @if (diaInfos) {
            <ng-container *ngTemplateOutlet="diaInfosTemplate; context: {infos: dayObj.infos}"> </ng-container>
            }
        </div>
    </div>
    }
</div>

@if (feriados && feriados.length > 0) {
<div class="mt-3.5 flex flex-col gap-2 text-xs border-t border-color pb-3 pt-4">
    @for (feriado of feriados; track feriado) {
    <div class="flex gap-2">
        <div>
            <b>{{feriado.data | date: 'dd'}}</b>
        </div>
        <div class="flex gap-1">
            <div>{{feriado.descricao}}</div>
            @if (feriado.uf && !feriado.municipioCodigo) {
            <div class="text-muted">- {{feriado.uf}}</div>
            } @if (feriado.municipioNome) {
            <div class="text-muted">- {{feriado.municipioNome}}</div>
            }
        </div>
    </div>
    }
</div>
}

<ng-template #diaInfosTemplate let-infos="infos">
    @for (info of infos; track info) {
    <div class="text-xs">{{info}}</div>
    }
</ng-template>
